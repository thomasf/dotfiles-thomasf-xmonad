#!/bin/bash
#
# Dmenu launch wrapper
#
# Author: Thomas Fr√∂ssman  ( thomasf@jossystem.se / http://thomas.jossystem.se )
# Updates to this file will probably be available at https://github.com/thomasf/dotfiles/
#

set -e

tr=urxvt

if [ `which yeganesh` ]; then
    cmd=`yeganesh -p appmenu -x -- -p launch -l 25`
else
    cmd=`dmenu_path | dmenu -p launch -i -l 25`
fi

set -- nil $cmd
shift

case $1 in
    saidar)
	    exec $tr -name saidar -e saidar -c
	    ;;
    alsamixer|htop|irssi|weechat-curses|ncmpcpp|pamixer)
        exec $tr -name $cmd -e $cmd
        ;;
    wireshark|synaptic|zenmap|firestarter|reboot|nm-connection-editor)
        exec gksudo $cmd
        ;;
    man)
        shift 1
        init=""
        [ -e ~/.emacs.d/init-low.el ] && init="-l ~/.emacs.d/init-low";
        exec emacs -q $init -eval "(man \"$*\")"
        ;;
    reboot|shutdown|suspend|hibernate)
        exec a.$cmd
        ;;
    *)
        exec $cmd
        ;;
esac
